{
  "version": "1.0",
  "encrypted": false,
  "accounts": [
    {
      "account_id": "123456789012",
      "account_name": "Production Account",
      "regions": ["us-east-1", "us-west-2", "eu-west-1"],
      "services": ["EC2", "S3", "RDS", "Lambda", "ECS", "EKS"],
      "tags": {
        "Environment": "production",
        "Owner": "platform-team",
        "CostCenter": "engineering"
      }
    },
    {
      "account_id": "123456789013",
      "account_name": "Staging Account",
      "regions": ["us-east-1", "us-west-2"],
      "services": ["EC2", "S3", "RDS", "Lambda"],
      "tags": {
        "Environment": "staging",
        "Owner": "platform-team"
      }
    },
    {
      "account_id": "123456789014",
      "account_name": "Development Account",
      "regions": ["us-east-1"],
      "services": ["EC2", "S3", "Lambda"],
      "tags": {
        "Environment": "development",
        "Owner": "dev-team"
      }
    }
  ],
  "global_config": {
    "default_regions": ["us-east-1", "us-west-2"],
    "default_services": ["EC2", "S3", "RDS", "Lambda"],
    "max_concurrent_accounts": 3,
    "continue_on_error": true,
    "retry_attempts": 3
  },
  "metadata": {
    "created_by": "GitHub Actions",
    "created_date": "2024-01-15",
    "description": "GitHub Actions configuration using GitHub Secrets for AWS credentials",
    "environment": "github-actions",
    "credential_management": {
      "method": "github_secrets",
      "description": "AWS credentials are stored in GitHub repository secrets and injected as environment variables",
      "required_secrets": [
        "AWS_ACCESS_KEY_ID_PROD - Production account access key",
        "AWS_SECRET_ACCESS_KEY_PROD - Production account secret key",
        "AWS_SESSION_TOKEN_PROD - Optional production session token",
        "AWS_ACCESS_KEY_ID_STAGING - Staging account access key",
        "AWS_SECRET_ACCESS_KEY_STAGING - Staging account secret key",
        "AWS_ACCESS_KEY_ID_DEV - Development account access key",
        "AWS_SECRET_ACCESS_KEY_DEV - Development account secret key"
      ],
      "setup_instructions": [
        "1. Go to GitHub repository Settings > Secrets and variables > Actions",
        "2. Add each required secret with the corresponding AWS credential value",
        "3. The GitHub Actions workflow will inject these as environment variables",
        "4. The InvenTag credential manager will automatically detect and use them"
      ]
    },
    "github_actions_integration": {
      "workflow_file": "examples/github_actions_with_secrets.yml",
      "environment_mapping": {
        "production_account": {
          "AWS_ACCESS_KEY_ID": "${{ secrets.AWS_ACCESS_KEY_ID_PROD }}",
          "AWS_SECRET_ACCESS_KEY": "${{ secrets.AWS_SECRET_ACCESS_KEY_PROD }}",
          "AWS_SESSION_TOKEN": "${{ secrets.AWS_SESSION_TOKEN_PROD }}"
        },
        "staging_account": {
          "AWS_ACCESS_KEY_ID": "${{ secrets.AWS_ACCESS_KEY_ID_STAGING }}",
          "AWS_SECRET_ACCESS_KEY": "${{ secrets.AWS_SECRET_ACCESS_KEY_STAGING }}"
        },
        "development_account": {
          "AWS_ACCESS_KEY_ID": "${{ secrets.AWS_ACCESS_KEY_ID_DEV }}",
          "AWS_SECRET_ACCESS_KEY": "${{ secrets.AWS_SECRET_ACCESS_KEY_DEV }}"
        }
      }
    },
    "security_best_practices": [
      "✅ Credentials stored securely in GitHub Secrets",
      "✅ No credentials in repository code or configuration files",
      "✅ Separate secrets for each account/environment",
      "✅ Automatic credential rotation support",
      "✅ Audit trail through GitHub Actions logs"
    ]
  }
}