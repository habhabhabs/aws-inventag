// @ts-check

// This runs in Node.js - Don't use client-side code here (browser APIs, JSX...)

/**
 * Creating a sidebar enables you to:
 - create an ordered group of docs
 - render a sidebar for each doc of that group
 - provide next/previous navigation

 The sidebars can be generated from the filesystem, or explicitly defined here.

 Create as many sidebars as you want.

 @type {import('@docusaurus/plugin-content-docs').SidebarsConfig}
 */
const sidebars = {
  // Main documentation sidebar with organized navigation structure
  // This sidebar will be used consistently across ALL documentation pages
  docsSidebar: [
    // Introduction and overview
    {
      type: 'doc',
      id: 'index',
      label: '🏠 Overview',
    },
    
    // Getting Started section
    {
      type: 'category',
      label: '🚀 Getting Started',
      collapsed: false,
      items: [
        'getting-started/introduction',
        'getting-started/quick-start',
        'getting-started/installation',
      ],
    },

    // User Guides section - manually defined for consistent navigation
    {
      type: 'category',
      label: '📖 User Guides',
      collapsed: false,
      items: [
        'user-guides/cli-user-guide',
        'user-guides/configuration-examples',
        'user-guides/troubleshooting-guide',
        'user-guides/production-safety',
      ],
    },

    // Examples section
    {
      type: 'category',
      label: '📋 Examples',
      collapsed: true,
      items: [
        'examples/index',
        'examples/accounts-setup',
        'examples/cicd-integration',
        'examples/advanced-usage',
      ],
    },

    // Architecture & Technical Design section - manually defined for consistent navigation
    {
      type: 'category',
      label: '🏗️ Architecture',
      collapsed: true,
      items: [
        'architecture/core-module-integration',
        'architecture/state-management',
        'architecture/template-framework',
        'architecture/service-enrichment',
        'architecture/bom-data-processor',
        'architecture/network-analysis',
        'architecture/cost-analysis',
        'architecture/tag-compliance',
      ],
    },

    // Security section - SBOM, vulnerability tracking, and security information
    // Note: Security docs are generated during workflow runs, so temporarily commented out
    // {
    //   type: 'category',
    //   label: '🔒 Security',
    //   collapsed: true,
    //   items: [
    //     'security/index',
    //     'security/sbom-overview', 
    //     'security/monitoring',
    //   ],
    // },

    // Development section - auto-generated from development directory
    {
      type: 'category',
      label: '⚙️ Development',
      collapsed: true,
      items: [
        {
          type: 'autogenerated',
          dirName: 'development',
        },
      ],
    },
  ],

  // NOTE: Using a single unified sidebar for ALL pages to ensure consistency
  // Alternative sidebars commented out to prevent navigation inconsistencies
  
  /*
  // Quick reference sidebar for advanced users - DISABLED for consistency
  quickReferenceSidebar: [
    {
      type: 'category',
      label: '⚡ Quick Reference',
      collapsed: false,
      items: [
        'user-guides/cli-user-guide',
        'user-guides/configuration-examples',
        'user-guides/production-safety',
        'user-guides/troubleshooting-guide',
      ],
    },
    {
      type: 'category',
      label: '🔧 Essential Commands',
      collapsed: false,
      items: [
        'getting-started/quick-start',
        'examples/accounts-setup',
        'examples/cicd-integration',
      ],
    },
  ],

  // Architecture-focused sidebar for technical users - DISABLED for consistency
  architectureSidebar: [
    {
      type: 'category',
      label: 'System Architecture',
      items: [
        'architecture/core-module-integration',
        'architecture/state-management',
        'architecture/template-framework',
        'architecture/service-enrichment',
        'architecture/bom-data-processor',
        'architecture/network-analysis',
        'architecture/cost-analysis',
        'architecture/tag-compliance',
      ],
    },
  ],
  */
};

export default sidebars;
